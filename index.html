<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RÃ©vision BA - Banques et Assurances</title>
    
    <!-- PWA Setup -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#003366">
    <link rel="apple-touch-icon" href="icon-192.png">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <!-- Fonts & Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <nav class="top-nav">
        <div class="nav-content">
            <div class="developer-info">
                <span>ØªÙ… Ø§Ù„ØªØ·ÙˆÙŠØ± Ø¨ÙˆØ§Ø³Ø·Ø©: </span>
                <a href="https://wa.me/22220479962" target="_blank" class="dev-name">
                    <i class="fab fa-whatsapp"></i> Mohamed Dah Agove
                </a>
            </div>
            <div class="dua-text">â¤ï¸ Ù„Ø§ ØªÙ†Ø³ÙˆÙ†Ø§ Ù…Ù† ØµØ§Ù„Ø­ Ø§Ù„Ø¯Ø¹Ø§Ø¡</div>
        </div>
    </nav>

    <header class="main-header">
        <div class="header-overlay">
            <h1>RÃ©vision BA</h1>
            <p>Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø´Ø§Ù…Ù„Ø© - Banques et Assurances</p>
            <p style="font-size: 0.9rem; opacity: 0.8;">UNEM/ISCAE</p>
        </div>
    </header>

    <div class="container">
        
        <button id="install-btn" class="hidden install-btn-style">
            <i class="fas fa-download"></i> ØªØ«Ø¨ÙŠØª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¹Ù„Ù‰ Ø§Ù„Ù‡Ø§ØªÙ
        </button>

        <!-- 1. Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª -->
        <div id="level-selection" class="section-box fade-in">
            <h2 class="section-title">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ</h2>
            <div class="semesters-grid">
                <div class="semester-card" onclick="showSemesters('l1')">
                    <div class="icon-box"><i class="fas fa-user-graduate"></i></div>
                    <h3>BA L1</h3>
                    <p>PremiÃ¨re AnnÃ©e</p>
                </div>
                <div class="semester-card" onclick="showSemesters('l2')">
                    <div class="icon-box"><i class="fas fa-university"></i></div>
                    <h3>BA L2</h3>
                    <p>DeuxiÃ¨me AnnÃ©e</p>
                </div>
                <div class="semester-card" onclick="showSemesters('l3')">
                    <div class="icon-box"><i class="fas fa-graduation-cap"></i></div>
                    <h3>BA L3</h3>
                    <p>TroisiÃ¨me AnnÃ©e</p>
                </div>
                <div class="semester-card result-card" onclick="window.location.href='https://resultat-iscae.vercel.app/'">
                    <div class="icon-box"><i class="fas fa-chart-line"></i></div>
                    <h3>Ø§Ù„Ù†ØªØ§Ø¦Ø¬</h3>
                    <p>Ø¹Ø±Ø¶ Ù†ØªØ§Ø¦Ø¬ ISCAE</p>
                </div>
            </div>
        </div>

        <!-- 2. Ø§Ù„ÙØµÙˆÙ„ -->
        
        <!-- L1 -->
        <div id="semesters-l1" class="section-box hidden">
            <div class="header-with-back">
                <button class="back-btn" onclick="goBackToLevels()"><i class="fas fa-arrow-right"></i> Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª</button>
                <h2 class="section-title">ÙØµÙˆÙ„ Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ (L1)</h2>
            </div>
            <div class="semesters-grid">
                <div class="semester-card" onclick="showSubjects('s1')">
                    <div class="icon-box">S1</div>
                    <h3>Semestre 1</h3>
                </div>
                <div class="semester-card" onclick="showSubjects('s2')">
                    <div class="icon-box">S2</div>
                    <h3>Semestre 2</h3>
                </div>
            </div>
        </div>

        <!-- L2 -->
        <div id="semesters-l2" class="section-box hidden">
            <div class="header-with-back">
                <button class="back-btn" onclick="goBackToLevels()"><i class="fas fa-arrow-right"></i> Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª</button>
                <h2 class="section-title">ÙØµÙˆÙ„ Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© (L2)</h2>
            </div>
            <div class="semesters-grid">
                <div class="semester-card" onclick="showSubjects('s3')">
                    <div class="icon-box">S3</div>
                    <h3>Semestre 3</h3>
                </div>
                <div class="semester-card" onclick="showSubjects('s4')">
                    <div class="icon-box">S4</div>
                    <h3>Semestre 4</h3>
                </div>
            </div>
        </div>

        <!-- L3 -->
        <div id="semesters-l3" class="section-box hidden">
            <div class="header-with-back">
                <button class="back-btn" onclick="goBackToLevels()"><i class="fas fa-arrow-right"></i> Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª</button>
                <h2 class="section-title">ÙØµÙˆÙ„ Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø© (L3)</h2>
            </div>
            <div class="semesters-grid">
                <div class="semester-card" onclick="showSubjects('s5')">
                    <div class="icon-box">S5</div>
                    <h3>Semestre 5</h3>
                </div>
                <div class="semester-card" onclick="showSubjects('s6')">
                    <div class="icon-box">S6</div>
                    <h3>Semestre 6</h3>
                </div>
            </div>
        </div>

        <!-- 3. Ø§Ù„Ù…ÙˆØ§Ø¯ -->
        <div id="subjects-container" class="section-box hidden">
            <div class="header-with-back">
                <button class="back-btn" onclick="goBackToSemesters()"><i class="fas fa-arrow-right"></i> Ø§Ù„ÙØµÙˆÙ„</button>
                <h2 id="current-semester-title" class="section-title">Ø§Ù„Ù…ÙˆØ§Ø¯</h2>
            </div>

            <!-- S1 -->
            <div id="s1-list" class="buttons-grid hidden">
                <button onclick="loadFiles('Principe de gestion')">Principe de gestion</button>
                <button onclick="loadFiles('ComptabilitÃ© financiÃ¨re I')">ComptabilitÃ© financiÃ¨re I</button>
                <button onclick="loadFiles('Statistique descriptive I')">Statistique descriptive I</button>
                <button onclick="loadFiles('MathÃ©matique')">MathÃ©matique</button>
                <button onclick="loadFiles('Anglais I')">Anglais I</button>
                <button onclick="loadFiles('MÃ©thodologie du travail universitaire')">MÃ©thodologie du travail</button>
                <button onclick="loadFiles('MS office')">MS office</button>
                <button onclick="loadFiles('Introduction Ã  lâ€™Ã©conomie')">Introduction Ã  l'Ã©conomie</button>
                <button onclick="loadFiles('Introduction au droit')">Introduction au droit</button>
                <button onclick="loadFiles('Technique de communication')">Technique de communication</button>
                <!-- Ø£Ø±Ø´ÙŠÙ S1 -->
                <button onclick="loadFiles('Archive S1')" class="archive-btn"><i class="fas fa-archive"></i> L'archive</button>
            </div>

            <!-- S2 -->
            <div id="s2-list" class="buttons-grid hidden">
                <button onclick="loadFiles('ComptabilitÃ© financiÃ¨re II')">ComptabilitÃ© financiÃ¨re II</button>
                <button onclick="loadFiles('Micro-finance')">Micro-finance</button>
                <button onclick="loadFiles('Economie dâ€™entreprise')">Economie d'entreprise</button>
                <button onclick="loadFiles('Statistique descriptive II')">Statistique descriptive II</button>
                <button onclick="loadFiles('MathÃ©matiques financiÃ¨res')">MathÃ©matiques financiÃ¨res</button>
                <button onclick="loadFiles('Anglais II')">Anglais II</button>
                <button onclick="loadFiles('Aptitudes en TIC')">Aptitudes en TIC</button>
                <button onclick="loadFiles('DÃ©veloppement personnel')">DÃ©veloppement personnel</button>
                <button onclick="loadFiles('MicroÃ©conomie')">MicroÃ©conomie</button>
                <button onclick="loadFiles('Droit des affaires')">Droit des affaires</button>
                <!-- Ø£Ø±Ø´ÙŠÙ S2 -->
                <button onclick="loadFiles('Archive S2')" class="archive-btn"><i class="fas fa-archive"></i> L'archive</button>
            </div>

            <!-- S3 -->
            <div id="s3-list" class="buttons-grid hidden">
                <button onclick="loadFiles('Technique Bancaire')">Technique Bancaire</button>
                <button onclick="loadFiles('SystÃ¨me financier mauritanien')">SystÃ¨me financier mauritanien</button>
                <button onclick="loadFiles('Gestion FinanciÃ¨re')">Gestion FinanciÃ¨re</button>
                <button onclick="loadFiles('ComptabilitÃ© des SociÃ©tÃ©s')">ComptabilitÃ© des SociÃ©tÃ©s</button>
                <button onclick="loadFiles('Anglais des affaires')">Anglais des affaires</button>
                <button onclick="loadFiles('Logiciels Bancaire et dâ€™assurances')">Logiciels Bancaire</button>
                <button onclick="loadFiles('Marketing')">Marketing</button>
                <button onclick="loadFiles('Droit administrative')">Droit administrative</button>
                <button onclick="loadFiles('MacroÃ©conomie')">MacroÃ©conomie</button>
                <button onclick="loadFiles('MÃ©thodes dâ€™aide Ã  la dÃ©cision')">MÃ©thodes d'aide Ã  la dÃ©cision</button>
                <!-- Ø£Ø±Ø´ÙŠÙ S3 -->
                <button onclick="loadFiles('Archive S3')" class="archive-btn"><i class="fas fa-archive"></i> L'archive</button>
            </div>

            <!-- S4 -->
            <div id="s4-list" class="buttons-grid hidden">
                <button onclick="loadFiles('ComptabilitÃ© des SociÃ©tÃ©s dâ€™assurance')">ComptabilitÃ© des Assurances</button>
                <button onclick="loadFiles('Assurances des biens et des personnes')">Assurances des biens</button>
                <button onclick="loadFiles('ComptabilitÃ© Bancaire')">ComptabilitÃ© Bancaire</button>
                <button onclick="loadFiles('ComptabilitÃ© de Gestion')">ComptabilitÃ© de Gestion</button>
                <button onclick="loadFiles('Finance des marchÃ©s')">Finance des marchÃ©s</button>
                <button onclick="loadFiles('Analyse FinanciÃ¨re')">Analyse FinanciÃ¨re</button>
                <button onclick="loadFiles('Gestion de la trÃ©sorerie')">Gestion de la trÃ©sorerie</button>
                <button onclick="loadFiles('GRH')">GRH</button>
                <button onclick="loadFiles('Droit des assurances')">Droit des assurances</button>
                <button onclick="loadFiles('Commerce international')">Commerce international</button>
                <!-- Ø£Ø±Ø´ÙŠÙ S4 -->
                <button onclick="loadFiles('Archive S4')" class="archive-btn"><i class="fas fa-archive"></i> L'archive</button>
            </div>

            <!-- S5 -->
            <div id="s5-list" class="buttons-grid hidden">
                <p style="width:100%; text-align:center; color:#666;">Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…ÙˆØ§Ø¯ Ù‚Ø±ÙŠØ¨Ø§Ù‹...</p>
                <button onclick="loadFiles('Archive S5')" class="archive-btn"><i class="fas fa-archive"></i> L'archive</button>
            </div>

            <!-- S6 -->
            <div id="s6-list" class="buttons-grid hidden">
                <p style="width:100%; text-align:center; color:#666;">Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…ÙˆØ§Ø¯ Ù‚Ø±ÙŠØ¨Ø§Ù‹...</p>
                <button onclick="loadFiles('Archive S6')" class="archive-btn"><i class="fas fa-archive"></i> L'archive</button>
            </div>
        </div>

        <!-- Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù„ÙØ§Øª -->
        <div id="file-list-container" class="section-box hidden">
            <h3>ğŸ“‚ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©: <span id="selected-subject-name" class="highlight-text"></span></h3>
            <ul id="pdf-list"></ul>
            <div id="loading-spinner" class="spinner hidden"></div>
            <p id="no-files-msg" class="hidden error-msg">âš ï¸ Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù„ÙØ§Øª ØªØ·Ø§Ø¨Ù‚ Ø§Ù„Ø¨Ø­Ø«.</p>
        </div>
    </div>

    <!-- ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© -->
    <div id="pdf-viewer-overlay" class="hidden">
        <div class="viewer-header">
            <div style="display:flex; align-items:center; gap:10px;">
                <button onclick="closePdfViewer()" class="close-viewer-btn"><i class="fas fa-times"></i> Ø¥ØºÙ„Ø§Ù‚</button>
                <span id="viewer-filename" style="font-size:0.9rem; overflow:hidden; white-space:nowrap; text-overflow:ellipsis; max-width:150px; color:#ddd;">Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù</span>
            </div>
            <button id="viewer-action-btn" class="external-btn"><i class="fas fa-external-link-alt"></i> ÙØªØ­ Ø®Ø§Ø±Ø¬ÙŠ</button>
        </div>
        <div id="pdf-render-area"></div>
        <div id="rendering-msg">
            <div class="spinner"></div>
            <p>Ø¬Ø§Ø±ÙŠ ØªØ­Ø¶ÙŠØ± Ø§Ù„Ù…Ù„Ù...</p>
            <p style="font-size:0.8rem; opacity:0.8; margin-top:5px;">Ø¥Ø°Ø§ Ù„Ù… ÙŠØ¸Ù‡Ø±ØŒ Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ "ÙØªØ­ Ø®Ø§Ø±Ø¬ÙŠ"</p>
        </div>
    </div>

    <!-- Ù†Ø§ÙØ°Ø© Ø§Ù„Ø£ÙŠÙÙˆÙ† -->
    <div id="ios-install-modal" class="hidden">
        <div class="ios-modal-content">
            <h3>ğŸ“± Ø§Ù„ØªØ«Ø¨ÙŠØª Ø¹Ù„Ù‰ Ø§Ù„Ø£ÙŠÙÙˆÙ†</h3>
            <p>Ù„ØªØ«Ø¨ÙŠØª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ØŒ Ø§ØªØ¨Ø¹ Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ§Ù„ÙŠØ©:</p>
            <ol>
                <li>Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± <strong>Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©</strong> <i class="fas fa-share-square"></i>.</li>
                <li>Ø§Ø®ØªØ± <strong>"Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©"</strong>.</li>
                <li>Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ <strong>Ø¥Ø¶Ø§ÙØ©</strong>.</li>
            </ol>
            <button onclick="document.getElementById('ios-install-modal').classList.add('hidden')">Ø­Ø³Ù†Ø§Ù‹</button>
        </div>
    </div>

    <footer class="main-footer">
        <div class="footer-content">
            <p class="validation-text">âœ¨ Ø§ØªØ¯ÙˆØ±Ùˆ ØªÙØ§Ù„ÙŠØ¯Ùˆ Ø¥Ù† Ø´Ø§Ø¡ Ø§Ù„Ù„Ù‡ âœ¨</p>
            <div class="footer-divider"></div>
            <div class="dev-credit">
                <p>
                    ØªÙ… Ø§Ù„ØªØ·ÙˆÙŠØ± <i class="fas fa-heart pulse-icon"></i> Ø¨ÙˆØ§Ø³Ø·Ø©
                    <br>
                    <a href="https://wa.me/22220479962" target="_blank" class="dev-link-pro">
                        <i class="fab fa-whatsapp"></i> Mohamed Dah Agove
                    </a>
                </p>
            </div>
            <p class="copyright">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Â© <span id="current-year">2025</span></p>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        document.getElementById('current-year').textContent = new Date().getFullYear();
        if ('serviceWorker' in navigator) navigator.serviceWorker.register('sw.js').catch(console.error);

        const installBtn = document.getElementById('install-btn');
        const isIos = /iphone|ipad|ipod/.test(window.navigator.userAgent.toLowerCase()) || (window.navigator.userAgent.includes("Mac") && "ontouchend" in document);
        const isInStandaloneMode = ('standalone' in window.navigator) && (window.navigator.standalone);

        if (isIos && !isInStandaloneMode) {
            installBtn.classList.remove('hidden');
            installBtn.innerHTML = '<i class="fab fa-apple"></i> ØªØ«Ø¨ÙŠØª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ (iPhone)';
            installBtn.addEventListener('click', () => document.getElementById('ios-install-modal').classList.remove('hidden'));
        } else {
            let deferredPrompt;
            window.addEventListener('beforeinstallprompt', (e) => {
                e.preventDefault();
                deferredPrompt = e;
                installBtn.classList.remove('hidden');
            });
            installBtn.addEventListener('click', () => {
                if (deferredPrompt) {
                    installBtn.classList.add('hidden');
                    deferredPrompt.prompt();
                    deferredPrompt = null;
                }
            });
        }
    </script>
</body>
</html>